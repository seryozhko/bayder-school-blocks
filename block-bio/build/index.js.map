{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/attributes.js","webpack:///./src/edit.js","webpack:///./src/index.js","webpack:///./src/save.js","webpack:///external {\"this\":[\"wp\",\"element\"]}"],"names":["attributes","content","type","imgUrl","default","linkUrl","email","selector","source","phone","wp","blockEditor","RichText","AlignmentToolbar","BlockControls","MediaUpload","components","CheckboxControl","ToggleControl","PanelBody","RangeControl","SelectControl","TextControl","Button","TextareaControl","element","Component","Fragment","InspectorControls","props","alignment","setAttributes","className","onSelectImage","image","sizes","profileThumb","url","full","onChangeLinkURL","onChangeEmail","onChangePhone","linksList","links","makeUrl","split","map","item","i","arr","trim","length","myComponent","open","replace","registerBlockType","blocks","title","icon","category","supports","html","edit","save"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","const attributes = {\r\n  content: {\r\n    type: 'string',\r\n  },\r\n  imgUrl: {\r\n    type: 'string',\r\n    default: 'http://placehold.it/160x236'\r\n  },\r\n  linkUrl: { \r\n    type: 'string',\r\n    default: ''\r\n  },\r\n  email: { \r\n    selector: 'p.email a',\r\n    source: 'children'\r\n  },\r\n  phone: {\r\n    selector: 'string',\r\n    default: ''\r\n  },\r\n};\r\n\r\nexport default attributes;","const {\tRichText,\tAlignmentToolbar, BlockControls, MediaUpload } = wp.blockEditor;\r\nconst {\tCheckboxControl, ToggleControl, PanelBody, RangeControl, SelectControl, TextControl, Button, TextareaControl } = wp.components;\r\nconst {\tComponent, Fragment } = wp.element;\r\nconst { InspectorControls } = wp.blockEditor;\r\n\r\nexport default ( props ) => {\r\n  const { attributes: { content, imgUrl, linkUrl, email, phone, alignment }, setAttributes, className } = props;\r\n  const onSelectImage = (image) => {\r\n    const imgUrl = image.sizes.profileThumb ? image.sizes.profileThumb.url : image.sizes.full.url;\r\n    setAttributes( { imgUrl } );\r\n  };\r\n  const onChangeLinkURL = linkUrl => setAttributes( { linkUrl } ); \r\n  const onChangeEmail = email => setAttributes( { email: [ email ]  } ); \r\n  const onChangePhone = phone => setAttributes( { phone } ); \r\n  const linksList = (links, makeUrl) => links.split(',').map((item, i, arr) => [<a href={ makeUrl(item) }>{item.trim()}</a>, `${i<arr.length-1 ? ', ' : '' }` ] );\r\n  \r\n  const myComponent = (<div className={className}>\r\n    <h3>Профиль инструктора</h3>\r\n    <InspectorControls>\r\n      <Fragment>\r\n        <PanelBody title=\"Фото\">\r\n          <MediaUpload \r\n            onSelect={ onSelectImage }\r\n            render={ ({ open }) => ( <Button onClick={ open }><img src={ imgUrl } className=\"align-self-start mx-auto mx-sm-0\"/></Button> ) }\r\n          />\r\n        </PanelBody>\r\n        <PanelBody title=\"Контакты\">\r\n          <TextareaControl\r\n            label=\"Сайты (через запятую):\"\r\n            onChange={ onChangeLinkURL }\r\n            value={ linkUrl }\r\n          />\r\n          <TextControl\r\n            label=\"Email:\"\r\n            onChange={ onChangeEmail }\r\n            value={ email }\r\n          />\r\n          <TextControl\r\n            label=\"Телефон:\"\r\n            onChange={ onChangePhone }\r\n            value={ phone }\r\n          />\r\n        </PanelBody>\r\n      </Fragment>\r\n    </InspectorControls>\r\n    <div>\r\n      <RichText\r\n        placeholder=\"Описание\"\r\n        className=\"font-weight-bold text-nowrap bg-light border\"\r\n        tagName=\"div\"\r\n        multiline=\"p\"\r\n        value={ content }\r\n        onChange={ content => setAttributes({ content }) }\r\n      />\r\n      <div>\r\n        { phone ? <p class=\"phone\"><span class=\"font-weight-bold\">Телефон: </span> { linksList( phone, (item) => `tel:${item.trim().replace(/[^0-9\\+]/g, '')}` ) } </p> : '' }\r\n        { email.length ? <p class=\"email\"><span class=\"font-weight-bold\">E-mail: </span> <a href={ `mailto:${email}` }>{ email }</a></p> : '' }\r\n        { linkUrl ? <p class=\"sites\"><span class=\"font-weight-bold\">Сайт: </span> { linksList( linkUrl, (item) => `//${item.trim()}` ) }</p> : '' }\r\n      </div>\r\n\r\n    </div>\r\n  </div>);\r\n\r\n  return myComponent;    \r\n};\r\n","const { registerBlockType } = wp.blocks;\r\n\r\nimport attributes from './attributes';\r\nimport edit from './edit';\r\nimport save from './save';\r\n\r\nregisterBlockType( 'bayder-school/bio', {\r\n\ttitle: 'Профиль инструктора',\r\n\ticon: 'admin-users',\r\n\tcategory: 'bayder-school',\r\n\tsupports: {\r\n\t\thtml: false,\r\n\t\t// className: false,\r\n\t},\r\n\tattributes,\r\n\tedit,\r\n\tsave,\r\n} );\r\n","const {\tRichText } = wp.blockEditor;\r\n\r\nexport default ( props ) => {\r\n  const { attributes: { content, imgUrl, linkUrl, email, phone, alignment }, className } = props;\r\n  const linksList = (links, makeUrl) => links.split(',').map((item, i, arr) => [<a href={ makeUrl(item) }>{item.trim()}</a>, `${i<arr.length-1 ? ', ' : '' }` ] );\r\n\r\n  return (<div className={ `media flex-wrap` }>\r\n  <img src={ imgUrl } class=\"align-self-center mx-auto mx-sm-0\" />\r\n  <div class=\"media-body flex-wrap ml-4\">\r\n    <RichText.Content \r\n      className=\"font-weight-bold text-nowrap\" \r\n      tagName=\"div\" \r\n      value={ content } \r\n    />\r\n    <div>\r\n      { phone ? <p class=\"phone\"><span class=\"font-weight-bold\">Телефон: </span> { linksList( phone, (item) => `tel:${item.trim().replace(/[^0-9\\+]/g, '')}` ) } </p> : '' }\r\n      { email.length ? <p class=\"email\"><span class=\"font-weight-bold\">E-mail: </span> <a href={ `mailto:${email}` }>{ email }</a></p> : '' }\r\n      { linkUrl ? <p class=\"sites\"><span class=\"font-weight-bold\">Сайт: </span> { linksList( linkUrl, (item) => `//${item.trim()}` ) }</p> : '' }\r\n    </div>\r\n  </div>\r\n</div>);\r\n};\r\n","(function() { module.exports = this[\"wp\"][\"element\"]; }());"],"sourceRoot":""}