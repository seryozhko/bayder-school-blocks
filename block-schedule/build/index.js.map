{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./src/attributes.js","webpack:///./src/edit.js","webpack:///./src/index.js","webpack:///./src/save.js","webpack:///external {\"this\":[\"wp\",\"element\"]}"],"names":["attributes","venues","type","default","wp","editor","RichText","AlignmentToolbar","BlockControls","components","CheckboxControl","ToggleControl","PanelBody","PanelRow","RangeControl","SelectControl","TextControl","element","Component","Fragment","withSelect","data","withState","compose","blockEditor","InspectorControls","InnerBlocks","TEMPLATE","placeholder","className","select","locations","getEntityRecords","hide_empty","parent","map","location","id","filter","venue","indexOf","venuesdata","title","rendered","setAttributes","length","item","name","isChecked","newVenues","slice","push","splice","registerBlockType","blocks","description","icon","category","edit","mapEdit","save","mapSave","props"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","const attributes = {\r\n  venues: {\r\n    type: 'array',\r\n    default: [],\r\n  },\r\n};\r\n\r\nexport default attributes;","const {\tRichText,\tAlignmentToolbar, BlockControls } = wp.editor;\r\nconst {\tCheckboxControl, ToggleControl, PanelBody, PanelRow, RangeControl, SelectControl, TextControl } = wp.components;\r\nconst {\tComponent, Fragment } = wp.element;\r\nconst { withSelect } = wp.data;\r\nconst { withState } = wp.compose;\r\nconst { InspectorControls, InnerBlocks } = wp.blockEditor;\r\n\r\nconst TEMPLATE = [\r\n  ['core/heading', { placeholder: 'Recipe Title', className: 'text-light bg-primary text-uppercase p-2' }],\r\n  ['core/table', {\r\n    \"hasFixedLayout\": true,\r\n    \"head\": [\r\n      {\r\n        \"cells\": [\r\n          {\r\n            \"content\": \"one\",\r\n            \"tag\": \"th\"\r\n          },\r\n          {\r\n            \"content\": \"two\",\r\n            \"tag\": \"th\"\r\n          },\r\n          {\r\n            \"content\": \"three\",\r\n            \"tag\": \"th\"\r\n          }\r\n        ]\r\n      }\r\n    ],\r\n    \"body\": [\r\n      {\r\n        \"cells\": [\r\n          {\r\n            \"content\": \"mon\",\r\n            \"tag\": \"td\"\r\n          },\r\n          {\r\n            \"content\": \"\",\r\n            \"tag\": \"td\"\r\n          },\r\n          {\r\n            \"content\": \"\",\r\n            \"tag\": \"td\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"cells\": [\r\n          {\r\n            \"content\": \"t\",\r\n            \"tag\": \"td\"\r\n          },\r\n          {\r\n            \"content\": \"\",\r\n            \"tag\": \"td\"\r\n          },\r\n          {\r\n            \"content\": \"\",\r\n            \"tag\": \"td\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"cells\": [\r\n          {\r\n            \"content\": \"w\",\r\n            \"tag\": \"td\"\r\n          },\r\n          {\r\n            \"content\": \"\",\r\n            \"tag\": \"td\"\r\n          },\r\n          {\r\n            \"content\": \"\",\r\n            \"tag\": \"td\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"cells\": [\r\n          {\r\n            \"content\": \"t\",\r\n            \"tag\": \"td\"\r\n          },\r\n          {\r\n            \"content\": \"\",\r\n            \"tag\": \"td\"\r\n          },\r\n          {\r\n            \"content\": \"\",\r\n            \"tag\": \"td\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"cells\": [\r\n          {\r\n            \"content\": \"f\",\r\n            \"tag\": \"td\"\r\n          },\r\n          {\r\n            \"content\": \"\",\r\n            \"tag\": \"td\"\r\n          },\r\n          {\r\n            \"content\": \"\",\r\n            \"tag\": \"td\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"cells\": [\r\n          {\r\n            \"content\": \"s\",\r\n            \"tag\": \"td\"\r\n          },\r\n          {\r\n            \"content\": \"\",\r\n            \"tag\": \"td\"\r\n          },\r\n          {\r\n            \"content\": \"\",\r\n            \"tag\": \"td\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"cells\": [\r\n          {\r\n            \"content\": \"s\",\r\n            \"tag\": \"td\"\r\n          },\r\n          {\r\n            \"content\": \"\",\r\n            \"tag\": \"td\"\r\n          },\r\n          {\r\n            \"content\": \"\",\r\n            \"tag\": \"td\"\r\n          }\r\n        ]\r\n      }\r\n    ],\r\n    \"foot\": []\r\n  }]\r\n];\r\n\r\nexport default withSelect( select => {\r\n  const locations = select( 'core' ).getEntityRecords( 'taxonomy', 'locations', { hide_empty:true, parent:0 } );\r\n  const venues = locations ? select( 'core' ).getEntityRecords( 'postType', 'venues', { locations: locations.map(location => location.id) } ) : [];\r\n\r\n  return { \r\n    locations : locations && venues ? locations.map( location => ({ ...location, venues: venues.filter( venue => venue.locations.indexOf(location.id) !== -1 ) }) ) : [],\r\n    venuesdata: venues ? venues.map(venue => ({ id: venue.id, title: venue.title.rendered })) : [],\r\n  };\r\n} )( ({ locations, venuesdata, attributes: { venues }, setAttributes }) => {\r\n  return (\r\n    <div>\r\n      Расписание\r\n      {\r\n        venuesdata.length &&\r\n        venues.map(venue => (<div>{ venuesdata.filter( item => item.id === venue )[0].title }</div>))\r\n      }\r\n<InnerBlocks \r\n\ttemplate={TEMPLATE} \r\n\ttemplateLock=\"all\" \r\n/>      \r\n      <InspectorControls>\r\n        <Fragment>\r\n          {\r\n            locations &&\r\n            locations.map(location => \r\n            <PanelBody \r\n              title={location.name}\r\n              icon='null'\r\n              initialOpen={ false }\r\n            >\r\n              {\r\n                location.venues && location.venues.map(venue =>\r\n                <PanelRow>\r\n                  <CheckboxControl\r\n                    label={ venue.title.rendered }\r\n                    checked={ venues.indexOf(venue.id) !== -1 }\r\n                    onChange={ isChecked => {\r\n                      const newVenues = venues.slice(0);\r\n                      isChecked ? newVenues.push(venue.id) : newVenues.splice(newVenues.indexOf(venue.id), 1);\r\n                      setAttributes({ venues: newVenues });\r\n                    } }\r\n                  />\r\n                </PanelRow>\r\n              )}\r\n            </PanelBody>)\r\n          }\r\n        </Fragment>\r\n      </InspectorControls>\r\n\r\n    </div>\r\n  );\r\n});","const { registerBlockType } = wp.blocks;\r\n\r\nimport attributes from './attributes';\r\nimport mapEdit from './edit';\r\nimport mapSave from './save';\r\n\r\nregisterBlockType( 'bayder-school/block-schedule', {\r\n\ttitle: 'Залы и Расписание',\r\n\tdescription: 'Выберите залы, чтобы добавить расписание',\r\n\ticon: 'calendar-alt',\r\n\tcategory: 'bayder-school',\r\n\t// supports: {\r\n\t// \thtml: false,\r\n\t// \tclassName: false,\r\n\t// },\r\n\tattributes,\r\n\tedit: mapEdit,\r\n\tsave: mapSave,\r\n} );\r\n","export default ( props ) => {\r\n  const {\r\n    attributes: {\r\n      venues,\r\n    }\r\n  } = props;\r\n\r\n  return (<div></div>);\r\n};\r\n","(function() { module.exports = this[\"wp\"][\"element\"]; }());"],"sourceRoot":""}